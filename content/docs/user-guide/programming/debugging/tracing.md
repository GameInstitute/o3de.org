---
title: 调试跟踪
linktitle: 跟踪
description: 学习 Open 3D Engine (O3DE) 中调试跟踪的最佳实践。
---

**推荐**: 如需跟踪代码，请使用 `AZ_*` 跟踪宏。

**原因**: 错误处理和跟踪函数提供了有用的信息，这些信息的格式使发生的错误具有可读性。为便于调试，`AZ_*` 跟踪函数会指出错误发生在代码的哪个位置。

下表描述了 `AZ_Tracing` 宏及其用途。


****

| AZ 跟踪宏 | 说明                                                                                                                                                                                                                                                     |
|------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `AZ_Assert`      | 当程序无法继续时，用于处理关键性错误。`AZ_Assert` 宏会打印错误信息、文件名和发生错误的行号，然后中断程序的执行。                                                                 |
| `AZ_Error`       | 当出现明显错误但程序可以安全继续时使用。`AZ_Error` 宏会打印错误信息以及发生错误的文件名和行号。在某些环境中，`AZ_Error` 会通知用户发生了错误。 |
| `AZ_Warning`     | 在可能发生错误时使用。`AZ_Warning` 宏会打印一条错误信息以及可能发生错误的文件名和行号，但不会采取任何其他操作。                                                                                           |
| `AZ_Info`        | 仅供参考。信息消息表示发生了正常的、预期的或相关的事件。`AZ_Info` 宏会打印一条信息，但不会采取任何其他操作。                                                                                 |
| `AZ_Trace`       | 仅用于调试信息。`AZ_Trace` 宏会打印一条信息，但不会采取任何其他操作。                                                                                                                                                     |
| `AZ_TracePrintf` | __(已弃用)__ 仅供参考。`AZ_TracePrintf` 宏会打印一条信息，但不会执行其他操作。最好使用 `AZ_Info` 和 `AZ_Trace` 宏。                                                                                         |

这些宏中也有只打印一次的版本，例如 `AZ_ErrorOnce`。有关源代码，请参阅 `Code\Framework\AzCore\AzCore\Debug\Trace.*`。


## 在单元测试中抑制 AZ 跟踪信息

您可以使用宏来抑制 AZ 跟踪信息。

* `AZ_TEST_START_ASSERTTEST` - 启用 `AZ_Error` 和 `AZ_Assert` 跟踪消息
* `AZ_TEST_STOP_ASSERTTEST` - 禁用 `AZ_Error` 和 `AZ_Assert` 跟踪消息

